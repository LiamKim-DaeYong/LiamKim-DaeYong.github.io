<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">

  <!-- Dark mode: apply before render to prevent flash -->
  <script>
    (function () {
      var saved = localStorage.getItem("theme");
      var prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      if (saved === "dark" || (!saved && prefersDark)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    })();
  </script>

  {%- seo -%}

  {%- if page.excerpt -%}
    <meta property="og:description" content="{{ page.excerpt | strip_html | normalize_whitespace | truncate: 160 }}">
  {%- endif -%}

  <link rel="stylesheet" href="{{ "/assets/main.css" | relative_url }}">
  {%- feed_meta -%}
</head>
